import{s as x}from"./stats-CJw_y9-v.js";import{d as w,o as B,c as n,a as c,F as f,r as I,u as V,b as k,t as d,e as b,f as v,g as r,h as D,_ as L}from"./index-DN2uEfU7.js";const F=[{label:"Light",studyMinutes:25,breakMinutes:5},{label:"Standard",studyMinutes:50,breakMinutes:10},{label:"Deep Focus",studyMinutes:80,breakMinutes:20}],N="/sabibi-timer/assets/alarm-D-j6LO0a.mp3",$={class:"timer pink-bg"},A={key:0,class:"presets"},O=["onClick"],P={class:"preset-detail"},j={class:"phase-label pink-text"},E={class:"display pink-text"},R=w({__name:"TimerView",setup(U){const e=b("select"),a=b(null),t=b(0);let s=null;const l=new Audio(N);l.loop=!0;const _=v(()=>{const u=Math.floor(t.value/60),y=t.value%60;return`${String(u).padStart(2,"0")}:${String(y).padStart(2,"0")}`}),h=v(()=>{switch(e.value){case"study-ready":case"study":return"Study Time";case"study-done":return"Study Complete!";case"break-ready":case"break":return"Break Time";case"break-done":return"Break Over!";default:return""}}),p=v(()=>e.value==="study"||e.value==="break"),m=v(()=>e.value==="study-done"||e.value==="break-done"),M=v(()=>e.value==="study-ready"||e.value==="break-ready");function S(u){a.value=u,t.value=u.studyMinutes*60,e.value="study-ready"}function g(){i(s),s=window.setInterval(()=>{t.value>0?t.value--:(i(s),s=null,e.value==="study"?(x(a.value.studyMinutes),e.value="study-done"):e.value==="break"&&(e.value="break-done"),l.currentTime=0,l.play())},1e3),e.value==="study-ready"?e.value="study":e.value==="break-ready"&&(e.value="break")}function C(){l.pause(),l.currentTime=0,m.value?e.value==="study-done"&&a.value?(t.value=a.value.breakMinutes*60,e.value="break-ready"):a.value&&(t.value=a.value.studyMinutes*60,e.value="study-ready"):p.value&&(i(s),s=null,e.value==="study"&&a.value?(t.value=a.value.breakMinutes*60,e.value="break-ready"):a.value&&(t.value=a.value.studyMinutes*60,e.value="study-ready"))}function T(){i(s),s=null,l.pause(),l.currentTime=0,e.value="select",a.value=null,t.value=0}function i(u){u!==null&&clearInterval(u)}return B(()=>{i(s),l.pause()}),(u,y)=>(r(),n("div",$,[y[0]||(y[0]=c("h1",{class:"title pink-text"},"sabibi timer",-1)),e.value==="select"?(r(),n("div",A,[(r(!0),n(f,null,I(V(F),o=>(r(),n("button",{key:o.label,class:"btn pink-element",onClick:q=>S(o)},[D(d(o.label)+" ",1),c("span",P,d(o.studyMinutes)+"/"+d(o.breakMinutes),1)],8,O))),128))])):k("",!0),e.value!=="select"?(r(),n(f,{key:1},[c("div",j,d(h.value),1),c("div",E,d(_.value),1),M.value?(r(),n("button",{key:0,class:"btn pink-element",onClick:g},"Start")):k("",!0),p.value||m.value?(r(),n("button",{key:1,class:"btn pink-highlight",onClick:C},"Stop")):k("",!0),c("button",{class:"btn-cancel pink-text",onClick:T},"cancel")],64)):k("",!0)]))}}),H=L(R,[["__scopeId","data-v-53fadac6"]]);export{H as default};
