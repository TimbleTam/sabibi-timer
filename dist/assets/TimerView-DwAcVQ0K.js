import{s as E,_ as O}from"./_plugin-vue_export-helper-CHXjrPU9.js";import{d as P,w as R,a as q,o as z,c as l,F as _,b as o,u as M,e as c,r as G,f as K,g as Q,t as d,n as L,h as v,i as f,j as U,k as u,l as $}from"./index-DjboFPrp.js";const H=[{label:"Light",studyMinutes:25,breakMinutes:5},{label:"Standard",studyMinutes:50,breakMinutes:10},{label:"Deep Focus",studyMinutes:80,breakMinutes:20}],J="/sabibi-timer/assets/alarm-D-j6LO0a.mp3",p=["you're doing great, keep going!","one step at a time~","focus is a superpower","almost there, stay strong!","deep breaths, deep focus","your future self will thank you","progress, not perfection","small steps, big results","you've got this!","stay curious, stay focused","every minute counts","believe in your effort","consistency beats intensity","the hard part is starting — you already did that","keep your eyes on the goal"],W="/sabibi-timer/assets/badge1-Dqt5A6MA.gif",X="/sabibi-timer/assets/badge2-lk5QjIDe.gif",Y="/sabibi-timer/assets/badge3-CBGAb9i4.gif",Z={class:"timer pink-bg"},ee=["src"],te=["src"],ae=["src"],se={key:1,class:"title pink-text"},le={class:"presets"},ue=["onClick"],ne={class:"preset-detail"},ie={class:"phase-label pink-text"},oe=P({__name:"TimerView",setup(re){const e=v("select"),a=v(null),s=v(0);let n=null;const i=new Audio(J);i.loop=!0;const I=f(()=>{const t=Math.floor(s.value/60),h=s.value%60;return`${String(t).padStart(2,"0")}:${String(h).padStart(2,"0")}`}),k=f(()=>{switch(e.value){case"study-ready":case"study":return"Study Time";case"study-done":return"Study Complete!";case"break-ready":case"break":return"Break Time";case"break-done":return"Break Over!";default:return""}}),w=f(()=>e.value==="study"||e.value==="break"),C=f(()=>e.value==="study-done"||e.value==="break-done"),V=f(()=>e.value==="study-ready"||e.value==="break-ready");function B(t){a.value=t,s.value=t.studyMinutes*60,e.value="study-ready"}function D(){y(n),n=window.setInterval(()=>{s.value>0?s.value--:(y(n),n=null,e.value==="study"?(E(a.value.studyMinutes),e.value="study-done"):e.value==="break"&&(e.value="break-done"),i.currentTime=0,i.play())},1e3),e.value==="study-ready"?e.value="study":e.value==="break-ready"&&(e.value="break")}function A(){i.pause(),i.currentTime=0,C.value?e.value==="study-done"&&a.value?(s.value=a.value.breakMinutes*60,e.value="break-ready"):a.value&&(s.value=a.value.studyMinutes*60,e.value="study-ready"):w.value&&(y(n),n=null,e.value==="study"&&a.value?(s.value=a.value.breakMinutes*60,e.value="break-ready"):a.value&&(s.value=a.value.studyMinutes*60,e.value="study-ready"))}function N(){y(n),n=null,i.pause(),i.currentTime=0,e.value="select",a.value=null,s.value=0}function y(t){t!==null&&clearInterval(t)}const r=v(""),g=v(!1),S=v(0);let b=null;function j(){let t=p[Math.floor(Math.random()*p.length)];for(;t===r.value&&p.length>1;)t=p[Math.floor(Math.random()*p.length)];return t}function T(){r.value=j(),S.value++,g.value=!0,b=window.setTimeout(()=>{g.value=!1,b=window.setTimeout(()=>{e.value==="study"&&T()},600)},12e3)}function x(){b!==null&&clearTimeout(b),b=null,g.value=!1,r.value=""}return R(()=>e.value,t=>{t==="study"?T():x()}),q(()=>{const t="sabibi timer";k.value?e.value==="study"&&r.value?document.title=`${t} — ${k.value} — ${r.value}`:document.title=`${t} — ${k.value}`:document.title=t}),z(()=>{y(n),x(),i.pause()}),(t,h)=>{const F=U("router-link");return u(),l("div",Z,[e.value==="break"?(u(),l(_,{key:0},[o("img",{src:M(W),class:"corner-gif top-left",alt:""},null,8,ee),o("img",{src:M(X),class:"corner-gif top-right",alt:""},null,8,te),o("img",{src:M(Y),class:"corner-gif bottom-right",alt:""},null,8,ae)],64)):c("",!0),e.value!=="study"?(u(),l("h1",se,"sabibi timer")):c("",!0),e.value==="select"?(u(),l(_,{key:2},[o("div",le,[(u(!0),l(_,null,G(M(H),m=>(u(),l("button",{key:m.label,class:"btn pink-element",onClick:ce=>B(m)},[$(d(m.label)+" ",1),o("span",ne,d(m.studyMinutes)+"/"+d(m.breakMinutes),1)],8,ue))),128))]),K(F,{to:"/stats",class:"btn-cancel pink-text"},{default:Q(()=>[...h[0]||(h[0]=[$("view stats",-1)])]),_:1})],64)):c("",!0),e.value!=="select"?(u(),l(_,{key:3},[o("div",ie,d(k.value),1),o("div",{class:L(["display pink-text",{"display--active":w.value}])},d(I.value),3),V.value?(u(),l("button",{key:0,class:"btn pink-element",onClick:D},"Start")):c("",!0),w.value||C.value?(u(),l("button",{key:1,class:"btn pink-highlight",onClick:A},"Stop")):c("",!0),o("button",{class:"btn-cancel pink-text",onClick:N},"cancel")],64)):c("",!0),e.value==="study"&&r.value?(u(),l("div",{key:S.value,class:L(["study-line pink-text",{"study-line--out":!g.value}])},d(r.value),3)):c("",!0)])}}}),ye=O(oe,[["__scopeId","data-v-d74be557"]]);export{ye as default};
